{"version":3,"sources":["category.js"],"names":["$","CateDatas","init","categories","eventList","params","on","addClass","siblings","removeClass","index","renderRight","get","result","meta","status","data","renderLeft","console","log","leftHtml","i","length","tmpHtml","cat_name","html","item2Obj","rightData","children","rightHtml","template","arr"],"mappings":";;AAAAA,CAAC,CAAC,YAAW;AAET,MAAIC,SAAJ,CAFS,CAEO;;AAEhBC,EAAAA,IAAI;;AACJ,WAASA,IAAT,GAAgB;AACZC,IAAAA,UAAU;AACVC,IAAAA,SAAS;AACZ;;AAGD,WAASA,SAAT,CAAmBC,MAAnB,EAA2B;AACvBL,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBM,EAAhB,CAAmB,KAAnB,EAAyB,IAAzB,EAA8B,YAAW;AACrCN,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQO,QAAR,CAAiB,QAAjB,EAA2BC,QAA3B,GAAsCC,WAAtC,CAAkD,QAAlD;AAEA,UAAIC,KAAK,GAAGV,CAAC,CAAC,IAAD,CAAD,CAAQU,KAAR,EAAZ;AACAC,MAAAA,WAAW,CAACD,KAAD,CAAX;AACH,KALD;AAMH;;AAED,WAASP,UAAT,GAAsB;AAClBH,IAAAA,CAAC,CAACY,GAAF,CAAM,kDAAN,EAAyD,UAAAC,MAAM,EAAE;AAC7D,UAAGA,MAAM,CAACC,IAAP,CAAYC,MAAZ,IAAsB,GAAzB,EAA8B;AAC1Bd,QAAAA,SAAS,GAAGY,MAAM,CAACG,IAAnB;AACAC,QAAAA,UAAU;AACVN,QAAAA,WAAW,CAAC,CAAD,CAAX;AACH,OAJD,MAIO;AACHO,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiBN,MAAjB;AACH;AACJ,KARD;AASH;;AAED,WAASI,UAAT,GAAsB;AAClB,QAAIG,QAAQ,GAAG,EAAf;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpB,SAAS,CAACqB,MAA9B,EAAsCD,CAAC,EAAvC,EAA0C;AACtC,UAAIE,OAAO,2CACMF,CAAC,IAAI,CAAL,GAAS,QAAT,GAAkB,EADxB,sCAEDpB,SAAS,CAACoB,CAAD,CAAT,CAAaG,QAFZ,0CAAX;AAKAJ,MAAAA,QAAQ,IAAIG,OAAZ;AACH;;AACDvB,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgByB,IAAhB,CAAqBL,QAArB;AACH;;AAED,WAAST,WAAT,CAAqBD,KAArB,EAA4B;AAExB,QAAIgB,QAAQ,GAAGzB,SAAS,CAACS,KAAD,CAAxB;AAEA,QAAIiB,SAAS,GAAGD,QAAQ,CAACE,QAAzB;AAEA,QAAIC,SAAS,GAAGC,QAAQ,CAAC,UAAD,EAAY;AAACC,MAAAA,GAAG,EAAGJ;AAAP,KAAZ,CAAxB;AACA3B,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgByB,IAAhB,CAAqBI,SAArB;AACH;AACJ,CAtDA,CAAD","sourcesContent":["$(function() {\r\n\r\n    let CateDatas;  //全局变量\r\n\r\n    init();\r\n    function init() {\r\n        categories();\r\n        eventList();\r\n    }\r\n\r\n\r\n    function eventList(params) {\r\n        $(\".left_menu\").on(\"tap\",\"li\",function() {\r\n            $(this).addClass(\"active\").siblings().removeClass(\"active\");\r\n\r\n            let index = $(this).index();\r\n            renderRight(index);\r\n        })\r\n    }\r\n\r\n    function categories() {\r\n        $.get(\"http://api.pyg.ak48.xyz/api/public/v1/categories\",result=>{\r\n            if(result.meta.status == 200) {\r\n                CateDatas = result.data;\r\n                renderLeft();\r\n                renderRight(0);\r\n            } else {\r\n                console.log(\"失败\",result)\r\n            }\r\n        })\r\n    }\r\n\r\n    function renderLeft() {\r\n        let leftHtml = \"\";\r\n        for (let i = 0; i < CateDatas.length; i++){\r\n            let tmpHtml = `\r\n                <li class=\"${i == 0 ? \"active\":\"\"}\">\r\n                    ${CateDatas[i].cat_name}\r\n                </li>\r\n            `;\r\n            leftHtml += tmpHtml;\r\n        }\r\n        $(\".left_menu\").html(leftHtml);\r\n    }\r\n\r\n    function renderRight(index) {\r\n\r\n        let item2Obj = CateDatas[index];\r\n\r\n        let rightData = item2Obj.children;\r\n\r\n        let rightHtml = template(\"rightTpl\",{arr : rightData});\r\n        $(\".right_box\").html(rightHtml);\r\n    }\r\n})"],"file":"category.js"}